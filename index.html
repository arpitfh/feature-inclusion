<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FirstHive CDP Feature Coverage Matrix</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>FirstHive CDP Feature Coverage Matrix</h1>
            <p class="subtitle">Comprehensive overview of FirstHive Customer Data Platform capabilities and availability status</p>
            
            <div class="coverage-summary">
                <div class="summary-stat">
                    <span class="summary-number available" id="availableCount">0</span>
                    <div class="summary-label">Available</div>
                </div>
                <div class="summary-stat">
                    <span class="summary-number beta" id="betaCount">0</span>
                    <div class="summary-label">Beta</div>
                </div>
                <div class="summary-stat">
                    <span class="summary-number roadmap" id="roadmapCount">0</span>
                    <div class="summary-label">Roadmap</div>
                </div>
                <div class="summary-stat">
                    <span class="summary-number roadmap" id="customCount">0</span>
                    <div class="summary-label">Custom Config</div>
                </div>
                <div class="summary-stat">
                    <span class="summary-number na" id="naCount">0</span>
                    <div class="summary-label">Not Available</div>
                </div>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="status-indicator status-available"></div>
                <span>Available - Fully released and supported</span>
            </div>
            <div class="legend-item">
                <div class="status-indicator status-beta"></div>
                <span>Beta - Available for testing, limited support</span>
            </div>
            <div class="legend-item">
                <div class="status-indicator status-roadmap"></div>
                <span>Roadmap - Planned for future release</span>
            </div>
            <div class="legend-item">
                <div class="status-indicator status-custom"></div>
                <span>Custom - Needs custom configuration</span>
            </div>
            <div class="legend-item">
                <div class="status-indicator status-na"></div>
                <span>Not Available - Not currently planned</span>
            </div>
        </div>

        <div class="search-filter">
            <div class="filter-controls">
                <input type="text" class="search-input" placeholder="Search features..." id="searchInput">
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="available">Available</button>
                    <button class="filter-btn" data-filter="beta">Beta</button>
                    <button class="filter-btn" data-filter="roadmap">Roadmap</button>
                    <button class="filter-btn" data-filter="custom">Custom Config</button>
                    <button class="filter-btn" data-filter="na">Not Available</button>
                </div>
            </div>
        </div>

        <div class="feature-categories" id="categoriesContainer">
            <!-- Categories will be populated by JavaScript -->
        </div>
    </div>

    <script>
        function initializeMatrix(featureData) {
            const container = document.getElementById('categoriesContainer');
            let totalAvailable = 0, totalBeta = 0, totalRoadmap = 0, totalCustom = 0, totalNA = 0;

            Object.entries(featureData).forEach(([categoryName, features]) => {
                const categoryStats = {
                    available: features.filter(f => f.status === 'available').length,
                    beta: features.filter(f => f.status === 'beta').length,
                    roadmap: features.filter(f => f.status === 'roadmap').length,
                    custom: features.filter(f => f.status === 'custom').length,
                    na: features.filter(f => f.status === 'na').length
                };

                totalAvailable += categoryStats.available;
                totalBeta += categoryStats.beta;
                totalRoadmap += categoryStats.roadmap;
                totalCustom += categoryStats.custom;
                totalNA += categoryStats.na;

                const categoryElement = createCategoryElement(categoryName, features, categoryStats);
                container.appendChild(categoryElement);
            });

            // Update summary stats
            document.getElementById('availableCount').textContent = totalAvailable;
            document.getElementById('betaCount').textContent = totalBeta;
            document.getElementById('roadmapCount').textContent = totalRoadmap;
            document.getElementById('customCount').textContent = totalCustom;
            document.getElementById('naCount').textContent = totalNA;
        }

        function createCategoryElement(categoryName, features, stats) {
            const section = document.createElement('div');
            section.className = 'category-section';
            
            section.innerHTML = `
                <div class="category-header" onclick="toggleCategory(this)">
                    <div>
                        <div class="category-title">${categoryName}</div>
                        <div class="category-stats">
                            <span style="color: #27ae60;">${stats.available} Available</span>
                            <span style="color: #f39c12;">${stats.beta} Beta</span>
                            <span style="color: #3498db;">${stats.roadmap} Roadmap</span>
                            <span style="color: #d3d3d3;">${stats.custom} Custom Config</span>
                        </div>
                    </div>
                    <div class="toggle-icon">â–¼</div>
                </div>
                <div class="category-content expanded">
                    <div class="features-grid">
                        ${features.map(feature => createFeatureCard(feature)).join('')}
                    </div>
                </div>
            `;

            return section;
        }

        function createFeatureCard(feature) {
            return `
                <div class="feature-card ${feature.status}" data-status="${feature.status}">
                    <div class="feature-header">
                        <div class="feature-name">${feature.name}</div>
                        <div class="feature-status">
                            <div class="status-indicator status-${feature.status}"></div>
                            <span class="status-badge badge-${feature.status}">${getStatusLabel(feature.status)}</span>
                        </div>
                    </div>
                    <div class="feature-description">${feature.description}</div>
                    <div class="feature-details">
                        <div class="feature-capabilities">
                            ${feature.capabilities.map(cap => `<span class="capability-tag">${cap}</span>`).join('')}
                        </div>
                        <div class="release-info">${feature.releaseInfo}</div>
                    </div>
                </div>
            `;
        }

        function getStatusLabel(status) {
            const labels = {
                'available': 'Available',
                'beta': 'Beta',
                'roadmap': 'Roadmap',
                'na': 'N/A'
            };
            return labels[status] || status;
        }

        function toggleCategory(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.toggle-icon');
            
            content.classList.toggle('expanded');
            icon.style.transform = content.classList.contains('expanded') ? 'rotate(0deg)' : 'rotate(-90deg)';
        }

        document.addEventListener('DOMContentLoaded', function() {
            fetch('featureData.json')
                .then(response => response.json())
                .then(data => {
                    initializeMatrix(data);
                });

            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.dataset.filter;
                    filterFeatures(filter);
                });
            });

            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                searchFeatures(searchTerm);
            });
        });

        function filterFeatures(status) {
            document.querySelectorAll('.feature-card').forEach(card => {
                if (status === 'all' || card.dataset.status === status) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function searchFeatures(term) {
            document.querySelectorAll('.feature-card').forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(term)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>